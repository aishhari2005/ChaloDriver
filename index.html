<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>ChaloDriver ‚Äì Smart Cab Booking</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial}
html{scroll-behavior:smooth}
body{background:#f4f6f8;line-height:1.6}


nav{
    position:sticky;
    top:0;
    z-index:1000;
    background:#004e92;
    color:white;
    padding:15px 40px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
nav h2{color:#ffca28}

nav ul{
    list-style:none;
    display:flex;
    gap:20px;
}

nav ul li a{
    color:white;
    text-decoration:none;
    font-size:15px;
    padding:6px 10px;
    border-radius:5px;
}

nav ul li a:hover{
    background:#ffca28;
    color:#004e92;
}

/* HERO */
.hero{
    background:linear-gradient(120deg,#000428,#004e92);
    color:white;
    padding:70px 20px;
    text-align:center;
}
.hero h1{font-size:38px}
.hero p{font-size:18px;margin-top:10px}

/* SECTIONS */
.section{
    padding:60px 20px;
    max-width:1100px;
    margin:auto;
}
.section h2{
    text-align:center;
    margin-bottom:30px;
    color:#004e92;
}

/* BOX */
.form-box{
    max-width:450px;
    margin:auto;
    background:white;
    padding:25px;
    border-radius:10px;
    box-shadow:0 10px 20px rgba(0,0,0,.15);
}

input,select,textarea,button{
    width:100%;
    padding:10px;
    margin:8px 0;
}

button{
    background:#ffca28;
    border:none;
    font-size:16px;
    cursor:pointer;
}

/* MAP */
#map{
    height:400px;
    margin-top:30px;
    border-radius:10px;
}

/* FEATURES GRID */
.features{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
    gap:20px;
}
.feature-card{
    background:white;
    padding:20px;
    border-radius:10px;
    text-align:center;
    box-shadow:0 5px 10px rgba(0,0,0,.1);
}

/* REVIEWS */
.review{
    background:white;
    padding:15px;
    margin:10px auto;
    max-width:520px;
    border-radius:8px;
    box-shadow:0 5px 10px rgba(0,0,0,.1);
}
.stars{color:gold;font-size:18px}
.delete-btn{
    float:right;
    background:red;
    color:white;
    border:none;
    padding:4px 8px;
    cursor:pointer;
}

/* FOOTER */
footer{
    background:#004e92;
    color:white;
    text-align:center;
    padding:25px;
    margin-top:40px;
}
</style>
</head>

<body>

<!-- NAV -->
<nav>
    <h2>üöï ChaloDriver</h2>
    <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#book">Book</a></li>
        <li><a href="#features">Features</a></li>
        <li><a href="#reviewsSection">Reviews</a></li>
        <li><a href="#feedback">Feedback</a></li>
    </ul>
</nav>

<!-- HERO -->
<div class="hero" id="home">
    <h1>Smart, Safe, Reliable Cab Booking</h1>
    <p>Connecting riders with trusted drivers anytime, anywhere</p>
</div>

<!-- ABOUT -->
<div class="section" id="about">
<h2>‚Ñπ About</h2>
<p style="text-align:center;max-width:800px;margin:auto;">
<b>ChaloDriver</b> is a modern cab booking platform designed to make urban
transportation safer, smarter, and more affordable.
</p>

<div class="features" style="margin-top:40px;">
    <div class="feature-card">
        <h3>üéØ Mission</h3>
        <p>Safe and affordable rides for everyone.</p>
    </div>
    <div class="feature-card">
        <h3>üöÄ Vision</h3>
        <p>Trusted digital mobility platform.</p>
    </div>
    <div class="feature-card">
        <h3>ü§ù Values</h3>
        <p>Safety, transparency & innovation.</p>
    </div>
</div>
</div>

<!-- BOOKING -->
<div class="section" id="book">
<h2>üöñ Book a Cab</h2>
<div class="form-box">
    <input id="pickup" placeholder="Pickup Location">
    <input id="drop" placeholder="Drop Location">

    <select id="cab">
        <option value="Mini">Mini</option>
        <option value="Sedan">Sedan</option>
        <option value="SUV">SUV</option>
    </select>

    <button onclick="calculateFare()">Calculate Fare</button>
    <div id="fare"></div>
    <div id="carDetails"></div>

    <button onclick="completeRide()">Complete Ride</button>
</div>

<div id="map"></div>
</div>

<!-- FEATURES -->
<div class="section" id="features">
<h2>‚ú® Why Choose ChaloDriver</h2>
<div class="features">
    <div class="feature-card">üó∫ Real-time Route</div>
    <div class="feature-card">üí∞ Transparent Pricing</div>
    <div class="feature-card">üöó Verified Drivers</div>
    <div class="feature-card">‚≠ê Trusted Reviews</div>
    <div class="feature-card">üì± Fast Booking</div>
    <div class="feature-card">üîê Secure Platform</div>
</div>
</div>

<!-- FEEDBACK -->
<div class="section" id="feedback">
<h2>‚≠ê Rate Your Ride</h2>
<div class="form-box">
    <select id="rating">
        <option value="5">Excellent</option>
        <option value="4">Good</option>
        <option value="3">Average</option>
        <option value="2">Poor</option>
        <option value="1">Bad</option>
    </select>
    <textarea id="feedbackText" placeholder="Write your feedback"></textarea>
    <button onclick="submitFeedback()">Submit Feedback</button>
</div>
</div>

<!-- REVIEWS -->
<div class="section" id="reviewsSection">
<h2>üóÇ Customer Reviews</h2>
<p style="text-align:center;">Average Rating: <span id="avgRating">0</span> ‚≠ê</p>

<div style="margin-bottom:15px;text-align:center;">
    <button onclick="filterReviews('all')">All</button>
    <button onclick="filterReviews(5)">Excellent</button>
    <button onclick="filterReviews(4)">Good</button>
</div>

<div id="reviews"></div>
</div>

<footer>
¬© 2025 ChaloDriver | ChaloDriver.com
</footer>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<script>
let map=L.map("map").setView([20.59,78.96],5);
let routeLayer;
L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(map);

const cars={
 Mini:{rate:10,car:"WagonR",number:"TS09 AB 1234",driver:"Ramesh"},
 Sedan:{rate:15,car:"Swift Dzire",number:"TS10 CD 5678",driver:"Suresh"},
 SUV:{rate:20,car:"Innova",number:"TS11 EF 9012",driver:"Mahesh"}
};

async function geocode(p){
 let r=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${p}`);
 let d=await r.json(); return[d[0].lat,d[0].lon];
}

async function calculateFare(){
 let p=pickup.value,d=drop.value,c=cab.value;
 if(!p||!d) return;
 let[plat,plon]=await geocode(p);
 let[dlat,dlon]=await geocode(d);
 let r=await fetch(`https://router.project-osrm.org/route/v1/driving/${plon},${plat};${dlon},${dlat}?geometries=geojson`);
 let data=await r.json();
 let distanceKm=data.routes[0].distance/1000;
 let fareAmt=Math.round(distanceKm*cars[c].rate);
 fare.innerText=`Distance: ${distanceKm.toFixed(2)} km | Fare: ‚Çπ${fareAmt}`;
 carDetails.innerHTML=`üöó ${cars[c].car}<br>üë® Driver: ${cars[c].driver}<br>üî¢ ${cars[c].number}`;
 if(routeLayer) map.removeLayer(routeLayer);
 routeLayer=L.geoJSON(data.routes[0].geometry).addTo(map);
 map.fitBounds(routeLayer.getBounds());
}

function completeRide(){alert("Ride completed. Please rate your ride!");}

/* REVIEWS */
const defaultReviews=[
 {rating:5,text:"Excellent service!",date:new Date()},
 {rating:4,text:"Good experience and smooth ride.",date:new Date()}
];

function initReviews(){
 if(!localStorage.getItem("reviews"))
 localStorage.setItem("reviews",JSON.stringify(defaultReviews));
}

function loadReviews(f="all"){
 let r=JSON.parse(localStorage.getItem("reviews"))||[];
 reviews.innerHTML="";
 let avg=r.reduce((s,x)=>s+x.rating,0)/(r.length||1);
 avgRating.innerText=avg.toFixed(1);
 r.filter(x=>f==="all"||x.rating===f).forEach(x=>{
  reviews.innerHTML+=`
  <div class="review">
   <div class="stars">${"‚òÖ".repeat(x.rating)}</div>
   <p>${x.text}</p>
   <small>${new Date(x.date).toLocaleString()}</small>
  </div>`;
 });
}

function submitFeedback(){
 let txt=feedbackText.value;
 if(!txt) return alert("Enter feedback");
 let r=JSON.parse(localStorage.getItem("reviews"));
 r.push({rating:+rating.value,text:txt,date:new Date()});
 localStorage.setItem("reviews",JSON.stringify(r));
 feedbackText.value="";
 loadReviews();
}

function filterReviews(t){loadReviews(t)}

initReviews(); loadReviews();
</script>

</body>
</html>
